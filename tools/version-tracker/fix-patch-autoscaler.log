rahulgab@bcd07465f13c eks-anywhere-build-tooling % ../../tools/version-tracker/test-fix-patches.sh 4858 kubernetes/autoscaler
fatal: refusing to fetch into branch 'refs/heads/test-pr-4858' checked out at '/Users/rahulgab/Desktop/work/1-30/eks-anywhere-build-tooling/test/eks-anywhere-build-tooling'
M       projects/fluxcd/source-controller/CHECKSUMS
M       projects/fluxcd/source-controller/patches/0001-Replace-timestamp-authority-and-go-fuzz-headers-revi.patch
M       projects/kubernetes-sigs/kind/patches/0001-Switch-to-AL2-base-image-for-node-image.patch
M       projects/kubernetes-sigs/kind/patches/0002-skip-ctr-pulling-required-images-since-the-build-rem.patch
M       projects/kubernetes-sigs/kind/patches/0003-Patch-haproxy-maxconn-value-to-avoid-ulimit-issue.patch
M       projects/kubernetes-sigs/kind/patches/0004-Disable-cgroupns-private-to-fix-cluster-creation-on-.patch
M       projects/kubernetes-sigs/kind/patches/0005-TEMP-lock-containerd-and-runc-version.patch
M       projects/kubernetes-sigs/kind/patches/0006-Use-docker_tag-file-to-fetch-Kubernetes-source-versi.patch
Already on 'test-pr-4858'
2025-10-17T16:28:40.537-0700    V0      Starting patch fixing workflow  {"project": "kubernetes/autoscaler", "pr": 4858}
2025-10-17T16:28:40.538-0700    V0      Project directory located       {"path": "/Users/rahulgab/Desktop/work/1-30/eks-anywhere-build-tooling/test/eks-anywhere-build-tooling/projects/kubernetes/autoscaler"}
2025-10-17T16:28:40.828-0700    V0      Checked BINARIES_ARE_RELEASE_BRANCHED   {"value": true, "last_line": "true"}
2025-10-17T16:28:40.829-0700    V0      Project has release-branched binaries   {"release_branch": "1-34", "patches_dir": "/Users/rahulgab/Desktop/work/1-30/eks-anywhere-build-tooling/test/eks-anywhere-build-tooling/projects/kubernetes/autoscaler/1-34/patches"}
2025-10-17T16:28:40.829-0700    V0      Found patch files       {"count": 3, "files": ["/Users/rahulgab/Desktop/work/1-30/eks-anywhere-build-tooling/test/eks-anywhere-build-tooling/projects/kubernetes/autoscaler/1-34/patches/0001-Remove-Cloud-Provider-Builders-Except-CAPI.patch", "/Users/rahulgab/Desktop/work/1-30/eks-anywhere-build-tooling/test/eks-anywhere-build-tooling/projects/kubernetes/autoscaler/1-34/patches/0002-Remove-additional-GCE-Dependencies.patch", "/Users/rahulgab/Desktop/work/1-30/eks-anywhere-build-tooling/test/eks-anywhere-build-tooling/projects/kubernetes/autoscaler/1-34/patches/0003-Update-go.mod-Dependencies.patch"]}
2025-10-17T16:28:40.829-0700    V0      Processing patch        {"index": 1, "total": 3, "file": "0001-Remove-Cloud-Provider-Builders-Except-CAPI.patch"}
2025-10-17T16:28:40.829-0700    V0      Fixing single patch     {"patch": "0001-Remove-Cloud-Provider-Builders-Except-CAPI.patch"}
2025-10-17T16:28:40.829-0700    V0      Applying single patch with reject       {"patch": "0001-Remove-Cloud-Provider-Builders-Except-CAPI.patch"}
2025-10-17T16:28:40.911-0700    V0      Project has release-branched binaries   {"release_branch": "1-34"}
2025-10-17T16:28:41.582-0700    V0      Repository checked out successfully     {"tag": "cluster-autoscaler-1.34.1"}
2025-10-17T16:28:41.582-0700    V0      Resetting repository to clean state
2025-10-17T16:28:41.940-0700    V0      Repository reset to clean state
2025-10-17T16:28:41.971-0700    V0      Extracting pristine file content before applying patch
2025-10-17T16:28:41.972-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_alicloud.go", "size": 1447}
2025-10-17T16:28:41.973-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_all.go", "size": 7849}
2025-10-17T16:28:41.973-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_aws.go", "size": 1397}
2025-10-17T16:28:41.973-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_azure.go", "size": 1416}
2025-10-17T16:28:41.974-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_baiducloud.go", "size": 1467}
2025-10-17T16:28:41.974-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_bizflycloud.go", "size": 1483}
2025-10-17T16:28:41.975-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_brightbox.go", "size": 1467}
2025-10-17T16:28:41.975-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_cherry.go", "size": 1402}
2025-10-17T16:28:41.975-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_civo.go", "size": 1419}
2025-10-17T16:28:41.976-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_cloudstack.go", "size": 1467}
2025-10-17T16:28:41.976-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_digitalocean.go", "size": 1500}
2025-10-17T16:28:41.976-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_equinixmetal.go", "size": 1569}
2025-10-17T16:28:41.976-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_exoscale.go", "size": 1456}
2025-10-17T16:28:41.977-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_externalgrpc.go", "size": 1487}
2025-10-17T16:28:41.977-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_gce.go", "size": 1397}
2025-10-17T16:28:41.978-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_hetzner.go", "size": 1445}
2025-10-17T16:28:41.978-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_huaweicloud.go", "size": 1477}
2025-10-17T16:28:41.979-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_ionoscloud.go", "size": 1467}
2025-10-17T16:28:41.979-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_kamatera.go", "size": 1457}
2025-10-17T16:28:41.979-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_kubemark.go", "size": 1447}
2025-10-17T16:28:41.980-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_kwok.go", "size": 1439}
2025-10-17T16:28:41.980-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_linode.go", "size": 1427}
2025-10-17T16:28:41.980-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_magnum.go", "size": 1427}
2025-10-17T16:28:41.981-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_oci.go", "size": 1439}
2025-10-17T16:28:41.981-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_ovhcloud.go", "size": 1456}
2025-10-17T16:28:41.981-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_rancher.go", "size": 1437}
2025-10-17T16:28:41.982-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_scaleway.go", "size": 1456}
2025-10-17T16:28:41.982-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_tencentcloud.go", "size": 1477}
2025-10-17T16:28:41.983-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_volcengine.go", "size": 1467}
2025-10-17T16:28:41.983-0700    V0      Captured pristine content       {"file": "cluster-autoscaler/cloudprovider/builder/builder_vultr.go", "size": 1417}
2025-10-17T16:28:41.983-0700    V0      Extracted pristine content      {"files": 30}
2025-10-17T16:28:41.983-0700    V0      Applying patch with git apply --reject  {"patch": "0001-Remove-Cloud-Provider-Builders-Except-CAPI.patch", "repo_path": "/Users/rahulgab/Desktop/work/1-30/eks-anywhere-build-tooling/test/eks-anywhere-build-tooling/projects/kubernetes/autoscaler/autoscaler", "patch_path": "/Users/rahulgab/Desktop/work/1-30/eks-anywhere-build-tooling/test/eks-anywhere-build-tooling/projects/kubernetes/autoscaler/1-34/patches/0001-Remove-Cloud-Provider-Builders-Except-CAPI.patch"}
2025-10-17T16:28:42.004-0700    V0      Patch application failed with conflicts (expected)      {"patch": "0001-Remove-Cloud-Provider-Builders-Except-CAPI.patch", "output": "Checking patch cluster-autoscaler/cloudprovider/builder/builder_alicloud.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_all.go...\nerror: while searching for:\n\nimport (\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/alicloud\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/aws\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/azure\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/baiducloud\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/bizflycloud\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/brightbox\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/cherryservers\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/civo\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/cloudstack\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/clusterapi\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/digitalocean\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/equinixmetal\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/exoscale\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/externalgrpc\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/gce\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/hetzner\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/huaweicloud\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/ionoscloud\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/kamatera\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/kwok\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/linode\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/magnum\"\n\toci \"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/oci/instancepools\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/ovhcloud\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/rancher\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/scaleway\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/tencentcloud\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/volcengine\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/cloudprovider/vultr\"\n\t\"k8s.io/autoscaler/cluster-autoscaler/config\"\n\t\"k8s.io/client-go/informers\"\n)\n\n// AvailableCloudProviders supported by the cloud provider builder.\nvar AvailableCloudProviders = []string{\n\tcloudprovider.AwsProviderName,\n\tcloudprovider.AzureProviderName,\n\tcloudprovider.GceProviderName,\n\tcloudprovider.AlicloudProviderName,\n\tcloudprovider.CherryServersProviderName,\n\tcloudprovider.CloudStackProviderName,\n\tcloudprovider.BaiducloudProviderName,\n\tcloudprovider.MagnumProviderName,\n\tcloudprovider.DigitalOceanProviderName,\n\tcloudprovider.ExoscaleProviderName,\n\tcloudprovider.ExternalGrpcProviderName,\n\tcloudprovider.HuaweicloudProviderName,\n\tcloudprovider.HetznerProviderName,\n\tcloudprovider.OracleCloudProviderName,\n\tcloudprovider.OVHcloudProviderName,\n\tcloudprovider.ClusterAPIProviderName,\n\tcloudprovider.IonoscloudProviderName,\n\tcloudprovider.KamateraProviderName,\n\tcloudprovider.KwokProviderName,\n\tcloudprovider.LinodeProviderName,\n\tcloudprovider.BizflyCloudProviderName,\n\tcloudprovider.BrightboxProviderName,\n\tcloudprovider.EquinixMetalProviderName,\n\tcloudprovider.VultrProviderName,\n\tcloudprovider.TencentcloudProviderName,\n\tcloudprovider.CivoProviderName,\n\tcloudprovider.ScalewayProviderName,\n\tcloudprovider.RancherProviderName,\n\tcloudprovider.VolcengineProviderName,\n}\n\n// DefaultCloudProvider is GCE.\nconst DefaultCloudProvider = cloudprovider.GceProviderName\n\nfunc buildCloudProvider(opts config.AutoscalingOptions,\n\tdo cloudprovider.NodeGroupDiscoveryOptions,\n\trl *cloudprovider.ResourceLimiter,\n\tinformerFactory informers.SharedInformerFactory) cloudprovider.CloudProvider {\n\tswitch opts.CloudProviderName {\n\tcase cloudprovider.BizflyCloudProviderName:\n\t\treturn bizflycloud.BuildBizflyCloud(opts, do, rl)\n\tcase cloudprovider.GceProviderName:\n\t\treturn gce.BuildGCE(opts, do, rl)\n\tcase cloudprovider.AwsProviderName:\n\t\treturn aws.BuildAWS(opts, do, rl)\n\tcase cloudprovider.AzureProviderName:\n\t\treturn azure.BuildAzure(opts, do, rl)\n\tcase cloudprovider.AlicloudProviderName:\n\t\treturn alicloud.BuildAlicloud(opts, do, rl)\n\tcase cloudprovider.CherryServersProviderName:\n\t\treturn cherryservers.BuildCherry(opts, do, rl)\n\tcase cloudprovider.CloudStackPr\nerror: patch failed: cluster-autoscaler/cloudprovider/builder/builder_all.go:21\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_aws.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_azure.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_baiducloud.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_bizflycloud.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_brightbox.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_cherry.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_civo.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_cloudstack.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_digitalocean.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_equinixmetal.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_exoscale.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_externalgrpc.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_gce.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_hetzner.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_huaweicloud.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_ionoscloud.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_kamatera.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_kubemark.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_kwok.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_linode.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_magnum.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_oci.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_ovhcloud.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_rancher.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_scaleway.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_tencentcloud.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_volcengine.go...\nChecking patch cluster-autoscaler/cloudprovider/builder/builder_vultr.go...\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_alicloud.go cleanly.\nApplying patch cluster-autoscaler/cloudprovider/builder/builder_all.go with 1 reject...\nRejected hunk #1.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_aws.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_azure.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_baiducloud.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_bizflycloud.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_brightbox.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_cherry.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_civo.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_cloudstack.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_digitalocean.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_equinixmetal.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_exoscale.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_externalgrpc.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_gce.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_hetzner.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_huaweicloud.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_ionoscloud.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_kamatera.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_kubemark.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_kwok.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_linode.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_magnum.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_oci.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_ovhcloud.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_rancher.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_scaleway.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_tencentcloud.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_volcengine.go cleanly.\nApplied patch cluster-autoscaler/cloudprovider/builder/builder_vultr.go cleanly.\n"}
2025-10-17T16:28:42.214-0700    V0      Patch has conflicts     {"patch": "0001-Remove-Cloud-Provider-Builders-Except-CAPI.patch", "rej_files": 1, "offset_files": 0}
2025-10-17T16:28:42.214-0700    V0      Calculated patch complexity     {"score": 2, "threshold": 10}
2025-10-17T16:28:42.214-0700    V0      Extracting patch context        {"patch_file": "0001-Remove-Cloud-Provider-Builders-Except-CAPI.patch", "rej_files": 1}
2025-10-17T16:28:42.215-0700    V0      Parsed patch files      {"count": 30}
2025-10-17T16:28:42.215-0700    V0      Categorized patch files {"total": 30, "failed": 1, "clean": 29}
2025-10-17T16:28:42.215-0700    V0      Using pristine content from before patch application    {"files": 30}
2025-10-17T16:28:42.215-0700    V0      Extracted context from pristine files (failed only)     {"count": 1, "token_savings_estimate": 20300}
2025-10-17T16:28:42.215-0700    V0      Parsing rejection file  {"file": "/Users/rahulgab/Desktop/work/1-30/eks-anywhere-build-tooling/test/eks-anywhere-build-tooling/projects/kubernetes/autoscaler/autoscaler/cluster-autoscaler/cloudprovider/builder/builder_all.go.rej", "index": 1}
2025-10-17T16:28:42.217-0700    V0      Extracted expected vs actual comparison {"file": "builder_all.go", "expected_lines": 138, "actual_lines": 138, "differences": 125}
2025-10-17T16:28:42.217-0700    V0      Context extraction complete     {"hunks": 1, "estimated_tokens": 19887}
2025-10-17T16:28:42.217-0700    V0      Extracted base patch context    {"token_count": 19887, "hunks": 1}
2025-10-17T16:28:42.217-0700    V0      Starting fix attempt for patch  {"patch": "0001-Remove-Cloud-Provider-Builders-Except-CAPI.patch", "attempt": 1, "max_attempts": 3}
2025-10-17T16:28:42.217-0700    V0      Using context for attempt       {"token_count": 19887, "hunks": 1}
2025-10-17T16:28:42.217-0700    V0      Calling Bedrock API     {"model": "anthropic.claude-sonnet-4-5-20250929-v1:0", "attempt": 1}
2025-10-17T16:28:42.220-0700    V0      Initializing Bedrock client     {"model": "anthropic.claude-sonnet-4-5-20250929-v1:0", "profile": "us.anthropic.claude-sonnet-4-5-20250929-v1:0", "region": "us-west-2"}
2025-10-17T16:28:42.220-0700    V0      Initialized Bedrock client      {"model": "anthropic.claude-sonnet-4-5-20250929-v1:0", "profile": "us.anthropic.claude-sonnet-4-5-20250929-v1:0", "region": "us-west-2"}
2025-10-17T16:28:42.220-0700    V0      Prompt built    {"length": 109951, "estimated_tokens": 27487}
2025-10-17T16:28:42.221-0700    V0      Wrote prompt to debug file      {"file": "/tmp/llm-prompt-attempt-1.txt"}
2025-10-17T16:28:42.221-0700    V0      Calculated max_tokens for patch {"patch_size_bytes": 62843, "max_tokens": 16384}
2025-10-17T16:31:03.675-0700    V0      Bedrock API call succeeded      {"attempt": 1}
2025-10-17T16:31:03.677-0700    V0      Received response from Bedrock  {"response_length": 46049, "input_tokens": 40324, "output_tokens": 16384}
2025-10-17T16:31:03.684-0700    V0      Wrote response to debug file    {"file": "/tmp/llm-response-attempt-1.txt"}
2025-10-17T16:31:03.684-0700    V0      Response truncated: hit max_tokens limit        {"output_tokens": 16384, "max_tokens": 16384}
2025-10-17T16:31:03.684-0700    V0      Bedrock API call failed {"error": "LLM response truncated at 16384 tokens (limit: 16384) - patch output too large, consider reducing input context", "attempt": 1}
2025-10-17T16:31:03.684-0700    V0      Starting fix attempt for patch  {"patch": "0001-Remove-Cloud-Provider-Builders-Except-CAPI.patch", "attempt": 2, "max_attempts": 3}
2025-10-17T16:31:03.684-0700    V0      Using context for attempt       {"token_count": 19887, "hunks": 1}
2025-10-17T16:31:03.684-0700    V0      Calling Bedrock API     {"model": "anthropic.claude-sonnet-4-5-20250929-v1:0", "attempt": 2}
2025-10-17T16:31:03.687-0700    V0      Initialized Bedrock client      {"model": "anthropic.claude-sonnet-4-5-20250929-v1:0", "profile": "us.anthropic.claude-sonnet-4-5-20250929-v1:0", "region": "us-west-2"}
2025-10-17T16:31:03.688-0700    V0      Prompt built    {"length": 109951, "estimated_tokens": 27487}
2025-10-17T16:31:03.690-0700    V0      Wrote prompt to debug file      {"file": "/tmp/llm-prompt-attempt-2.txt"}
2025-10-17T16:31:03.690-0700    V0      Calculated max_tokens for patch {"patch_size_bytes": 62843, "max_tokens": 16384}
2025-10-17T16:33:31.908-0700    V0      Bedrock API call succeeded      {"attempt": 1}
2025-10-17T16:33:31.909-0700    V0      Received response from Bedrock  {"response_length": 46298, "input_tokens": 40324, "output_tokens": 16384}
2025-10-17T16:33:31.911-0700    V0      Wrote response to debug file    {"file": "/tmp/llm-response-attempt-2.txt"}
2025-10-17T16:33:31.911-0700    V0      Response truncated: hit max_tokens limit        {"output_tokens": 16384, "max_tokens": 16384}
2025-10-17T16:33:31.911-0700    V0      Bedrock API call failed {"error": "LLM response truncated at 16384 tokens (limit: 16384) - patch output too large, consider reducing input context", "attempt": 2}
2025-10-17T16:33:31.911-0700    V0      Starting fix attempt for patch  {"patch": "0001-Remove-Cloud-Provider-Builders-Except-CAPI.patch", "attempt": 3, "max_attempts": 3}
2025-10-17T16:33:31.911-0700    V0      Using context for attempt       {"token_count": 19887, "hunks": 1}
2025-10-17T16:33:31.911-0700    V0      Calling Bedrock API     {"model": "anthropic.claude-sonnet-4-5-20250929-v1:0", "attempt": 3}
2025-10-17T16:33:31.913-0700    V0      Initialized Bedrock client      {"model": "anthropic.claude-sonnet-4-5-20250929-v1:0", "profile": "us.anthropic.claude-sonnet-4-5-20250929-v1:0", "region": "us-west-2"}
2025-10-17T16:33:31.913-0700    V0      Prompt built    {"length": 110285, "estimated_tokens": 27571}
2025-10-17T16:33:31.919-0700    V0      Wrote prompt to debug file      {"file": "/tmp/llm-prompt-attempt-3.txt"}
2025-10-17T16:33:31.919-0700    V0      Calculated max_tokens for patch {"patch_size_bytes": 62843, "max_tokens": 16384}
2025-10-17T16:36:13.174-0700    V0      Bedrock API call succeeded      {"attempt": 1}
2025-10-17T16:36:13.175-0700    V0      Received response from Bedrock  {"response_length": 46539, "input_tokens": 40409, "output_tokens": 16384}
2025-10-17T16:36:13.178-0700    V0      Wrote response to debug file    {"file": "/tmp/llm-response-attempt-3.txt"}
2025-10-17T16:36:13.178-0700    V0      Response truncated: hit max_tokens limit        {"output_tokens": 16384, "max_tokens": 16384}
2025-10-17T16:36:13.178-0700    V0      Bedrock API call failed {"error": "LLM response truncated at 16384 tokens (limit: 16384) - patch output too large, consider reducing input context", "attempt": 3}
2025/10/17 16:36:13 Error fixing patches: failed to fix patch 0001-Remove-Cloud-Provider-Builders-Except-CAPI.patch: Bedrock API failed for patch 0001-Remove-Cloud-Provider-Builders-Except-CAPI.patch after 3 attempts: LLM response truncated at 16384 tokens (limit: 16384) - patch output too large, consider reducing input context